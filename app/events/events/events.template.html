<ScrollView class="cntnr">
    <ActionBarExtension>
        <ActionItem (tap)="onAdd()" *ngIf="canAddEvent()" ios.position="right">
            <StackLayout>
                <Label class="button if" text="&#x61;"></Label>
            </StackLayout>
        </ActionItem>
    </ActionBarExtension>

    <StackLayout *ngIf="initialized && !upcomingEvents.length && !pastEvents.length && !userGroups.length" class="no-items">
        <Label class="if" text="&#x6a;"></Label>
        <Label text="Ready for fun?" [textWrap]="true" class="title"></Label>
        <StackLayout *ngIf="canAdd">
            <Label text="Join a group of your interest and be ready for a great fun events." [textWrap]="true"></Label>
            <StackLayout class="actions">
                <Label text="Go to Groups" class="btn btn-primary" [nsRouterLink]="['/groups', { selectedTabIndex: 1 }]"></Label>
            </StackLayout>
        </StackLayout>
    </StackLayout>

    <StackLayout *ngIf="initialized && !upcomingEvents.length && !pastEvents.length && userGroups.length" class="no-items">
        <Label class="if" text="&#x6a;"></Label>
        <Label text="No events yet" [textWrap]="true" class="title"></Label>
        <StackLayout *ngIf="canAdd">
            <Label text="Be first and organize a memorable event for you and your friends." [textWrap]="true"></Label>
            <StackLayout class="actions">
                <Label text="Organize Event" class="btn btn-primary" (tap)="onAdd()"></Label>
            </StackLayout>
        </StackLayout>
    </StackLayout>

    <TabView *ngIf="initialized && userGroups.length && (upcomingEvents.length || pastEvents.length)" #tabview [selectedIndex]="0" class="tab-view">
        <StackLayout *tabItem="{ title: 'Upcoming' }" class="main-container">
            <event-list *ngIf="upcomingEvents.length" [events]="upcomingEvents" (onEventTap)="showDetails($event)"></event-list>

            <StackLayout *ngIf="!upcomingEvents.length" class="no-items">
                <Label class="if" text="&#x6a;"></Label>
                <Label text="No upcoming events" [textWrap]="true" class="title"></Label>
                <StackLayout *ngIf="canAdd">
                    <Label text="Theatre, sports, or dancing..." [textWrap]="true"></Label>
                    <Label text="Why don't you organize it yourself?" [textWrap]="true"></Label>
                    <StackLayout class="actions">
                        <Label text="Organize Event" class="btn btn-primary" (tap)="onAdd()"></Label>
                    </StackLayout>
                </StackLayout>
            </StackLayout>
        </StackLayout>

        <StackLayout *tabItem="{ title: 'Past' }" class="main-container">
            <event-list *ngIf="pastEvents.length" [events]="pastEvents" (onEventTap)="showDetails($event)"></event-list>

            <StackLayout *ngIf="!pastEvents.length" class="no-items">
                <Label class="if" text="&#x6a;"></Label>
                <Label text="No past events" [textWrap]="true" class="title"></Label>
                <Label text="Hey, it looks like all the fun lies just around the corner!" [textWrap]="true"></Label>
            </StackLayout>
        </StackLayout>
    </TabView>

    <ScrollView class="cntnr">
        <ActivityIndicator [busy]="!initialized" [visibility]="initialized ? 'collapse' : 'visible'" horizontalAlignment="center" verticalAlignment="center"></ActivityIndicator>
    </ScrollView>
</ScrollView>
